1. 产品概述 (Overview)
   1.1 产品愿景 (Vision)
   打造一款在 macOS 平台上体验极致、性能卓越、并由 AI 赋能的 原生 JSON 工具。使其成为从普通用户到专业开发者的首选，解决当前市场工具体验不佳、功能缺失和数据隐私的痛点。

1.2 问题陈述 (Problem Statement)
目前 macOS 用户在处理 JSON 数据时面临以下问题：

体验割裂： 网页工具性能差、有隐私风险且非原生；IDE 插件过于臃肿，不适合快速、独立的任务。
功能陈旧： 现有的原生应用功能过于基础，UI 设计落后，多年未更新。
效率低下： 缺乏智能化功能，如格式自动修复、数据 Mock、智能重构等，大量时间被浪费在重复性的人工操作上。
1.3 目标用户 (User Personas)
开发者 Alex (主要用户):
背景： 后端/前端/移动端开发者，日常工作与 API 和配置文件打交道。
痛点： 需要快速查看、格式化、调试和编辑 API 返回的 JSON。对工具的性能、稳定性和键盘快捷操作要求高。非常关心数据隐私，不愿将敏感的业务数据粘贴到在线工具中。
需求： 高性能解析、强大的搜索/查询、路径复制、语法高亮、AI 辅助功能。
非技术用户 Bella (次要用户):
背景： 产品经理、数据分析师、测试人员。
痛点： JSON 格式对她来说复杂且难以阅读，只想快速理解数据结构、找到特定值或进行简单修改。
需求： 极简的 UI、清晰的树状视图、一键格式化、易于理解的错误提示。 2. 产品目标与成功指标 (Goals & Metrics)
2.1 产品目标
MVP 阶段： 推出一个功能稳定、体验流畅的免费核心版本，迅速占领市场，建立用户口碑。
Pro 版阶段： 推出以 AI 为核心的付费功能，建立可持续的商业模式。
长期目标： 成为 macOS 上 JSON 工具的“事实标准”。
2.2 成功指标 (OKRs)
目标 1: 验证产品核心价值 (MVP 发布后 3 个月)
KR1: App Store 下载量达到 10,000+。
KR2: App Store 平均评分维持在 4.7 星以上。
KR3: 周活跃用户 (WAU) 达到 2,000+。
目标 2: 验证商业模式 (Pro 版发布后 6 个月)
KR1: 实现 3% 以上的免费用户到付费用户的转化率。
KR2: 产生稳定的月度经常性收入 (MRR)。 3. 功能需求详述 (Feature Requirements)
阶段一: MVP (P0 核心功能)
目标：一个美观、快速、稳定的原生 JSON 查看器

ID 功能名称 用户故事 验收标准 (Acceptance Criteria)
F-01 核心视图与格式化 作为一个用户，我希望能粘贴或打开一个 JSON 文件，并立即看到格式化、带语法高亮的视图，以便快速阅读。 1. 支持文本编辑器和可折叠树状图两种视图，可切换。<br>2. 自动格式化粘贴的 JSON 字符串。<br>3. 提供“格式化”和“压缩”按钮。<br>4. 语法高亮：Key, String, Number, Boolean, Null 有不同颜色。<br>5. 提供至少一套精美的亮色和暗色主题，跟随系统设置。
F-02 节点可视化 (Tree View) 作为一个用户，我希望能在树状图中方便地展开和折叠节点，以便理解复杂 JSON 的层级结构。 1. 左侧显示树状结构，右侧显示选定节点的值。<br>2. 提供“全部展开”和“全部折叠”功能。<br>3. 显示每个 Array 和 Object 的子节点数量。<br>4. 节点路径显示在窗口底部或顶部。
F-03 转义/去转义 作为一个开发者，我希望能一键对字符串中的 JSON 进行转义或去转义，以便在代码和日志中处理它。 1. 提供“Escape”和“Unescape”按钮。<br>2. 能正确处理 \", \\, \n 等常见转义字符。
F-04 高性能 作为一个开发者，我希望能流畅地打开和浏览大体积的 JSON 文件（如 50MB），而不会导致应用卡死。 1. 在 2 秒内打开一个 50MB 的文件。<br>2. 在包含 10,000+ 节点的 JSON 中滚动和折叠操作保持流畅。
阶段二: 核心扩展 (P1 功能)
目标：从“能用”到“好用”，提升生产力

ID 功能名称 用户故事 验收标准
F-05 搜索与过滤 作为一个开发者，我希望能快速搜索 Key 或 Value，以便在海量数据中定位信息。 1. 提供搜索框，可选择按 Key/Value/两者 搜索。<br>2. 搜索结果在树状图和文本视图中高亮显示。<br>3. (高级) 支持 JSONPath 或 JMESPath 查询。
F-06 路径与值复制 作为一个开发者，我希望可以一键复制节点的路径 (JSONPath) 或其值，以便在代码中使用。 1. 右键单击节点，菜单中提供“复制 Key”、“复制 Value”、“复制路径”选项。
F-07 实时语法校验 作为一个用户，我在编辑 JSON 时，希望能实时看到语法错误提示，以便快速修正。 1. 在文本编辑器中，对不合法的 JSON（如多余的逗号）用波浪线标出。<br>2. 鼠标悬停时提示具体的错误信息。<br>3. 状态栏显示“有效 JSON”或“发现 X 个错误”。
F-08 多标签页/窗口 作为一个用户，我希望能同时打开多个 JSON 文件进行对比和编辑。 1. 支持系统原生的多标签页 (Tabs)。<br>2. 支持创建多个独立窗口。
阶段三: AI 赋能与 Pro 功能 (P2 功能)
目标：提供“杀手级”功能，构筑商业壁垒

ID 功能名称 用户故事 验收标准
F-09 AI 修复格式错误 作为一个用户，当我粘贴了一段有错误的 JSON 时，我希望能让 AI 自动帮我修复它，而不是手动排查。 1. 当检测到 JSON 无效时，出现“AI 修复”按钮。<br>2. 点击后，将错误内容发送给 AI 模型。<br>3. AI 返回修复后的 JSON，用户可以预览对比并一键应用。
F-10 AI Mock 数据 作为一个开发者，我需要基于一个 JSON 结构快速生成大量测试数据，希望能让 AI 自动填充。 1. 用户提供一个 JSON 样本或 Schema。<br>2. AI 识别字段含义（如 name, email, timestamp）并生成逼真的数据。<br>3. 用户可以指定生成的数据条目数量。
F-11 Key 的 AI 修复 Typo 作为一个开发者，当处理不规范的 JSON 时，我希望 AI 能帮我找出并修正 Key 的拼写错误或命名不一致。 1. 提供“AI 检查 Key”功能。<br>2. AI 扫描所有 Key，识别出可能的拼写错误（如 emial）或风格不一致（如 user_name vs userName），并提供修复建议。
F-12 AI 对话修改 作为一个用户，我希望能用自然语言来执行复杂的修改，例如“把所有 type 为'A'的项目的 status 改为 'archived'”。 1. 提供一个 AI 对话框。<br>2. 用户输入自然语言指令。<br>3. AI 理解意图，生成修改后的 JSON 供用户预览和确认。 4. 非功能性需求 (Non-functional Requirements)
性能 (Performance): 见 F-04。应用启动时间在 1 秒内。
可用性 (Usability): 遵循 Apple Human Interface Guidelines (HIG)。提供完整的键盘快捷键支持。支持辅助功能（VoiceOver）。
安全性与隐私 (Security & Privacy):
所有非 AI 功能必须 100% 在本地离线运行。
任何需要调用外部 AI API 的功能，必须在首次使用时明确弹窗告知用户“您的数据将被发送给 [OpenAI 等] 以完成此功能”，并获得用户同意。绝不私自上传用户数据。
技术栈 (Tech Stack):
UI: SwiftUI
语言: Swift
JSON 解析: Swift Codable (基础), simdjson-swift (性能优化)
AI: OpenAIKit 或其他 Swift OpenAI API 封装库 5. 商业化设计 (Monetization)
采用 Freemium (免费增值) 模型。

功能 免费版 (Free) 专业版 (Pro)
P0 核心功能 ✅ 全部包含 ✅ 全部包含
P1 核心扩展功能 ✅ 包含基础功能 (如搜索、路径复制)<br>❌ 限制高级功能 (如 JSONPath 查询、多标签页) ✅ 全部包含
P2 AI & 高级功能 ❌ 不可用 或<br>提供每月 3-5 次免费试用 ✅ 无限制使用
定价模式 免费 付费订阅 或 一次性买断
国内定价 (建议) - ¥48/年 或 ¥98 买断
国际定价 (建议) -
4.99
/
月或
4.99/月或 29.99/年 或 $59.99 终身 6. 未来规划与路线图 (Future Scope & Roadmap)
V1.1: 完善所有 P1 功能，推出 Pro 订阅，上线第一个 AI 功能 (F-09: AI 修复)。
V1.2: 逐步上线 F-10, F-11 等其他 AI 功能。
V2.0 及以后:
JSON Schema 生成与校验。
数据转换 (JSON to CSV/XML/YAML)。
插件系统，允许社区扩展功能。
与其他开发工具（如 Postman, Xcode）集成。
